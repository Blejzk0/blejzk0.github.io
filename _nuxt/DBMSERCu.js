const __vite__fileDeps=["./BcxDaC_1.js","./Bg-VryCg.js","./entry.B1Qxqtop.css","./Item.BlNW57Qx.css","./DxdqR-9T.js","./Footer.B6ZHjzNG.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as z,D as A,r as p,o as S,w as $,b,c as w,e as d,A as h,B as y,q as g,E as D,m as f,C as L,s as B,g as O,G as V,v as U,_ as E,H as F,I,i as W,J,k as q,K as G,L as K,y as Q,j as x,S as j,a as X,F as Y,l as Z,T as ee,n as te,M as ae,N as oe,t as N,x as R}from"./Bg-VryCg.js";import{u as ne}from"./D04RVQ7n.js";import{p as P}from"./CMPb7cBR.js";const re={ref:"projectDetails",class:"fixed top-0 bg-c-gray left-0 flex flex-col w-screen h-full pers-500 isolate"},se={class:"flex m-auto max-w-[85%] max-h-[75vh]"},le={class:"relative flex flex-col m-auto max-w-[85%] max-h-[75vh] w-full h-full"},ie=["src","title"],ce=["title"],ue={class:"relative m-auto max-w-[80%] h-full max-h-[75vh]"},de=z({__name:"Preview",props:{toggleDetails:{type:Function},project:{}},setup(e){const l=A(),o=p(null),s=p(null),a=p(null);let i=!0;const m=p("Pause"),_=()=>{var t,u,n,r,c;if(!((t=a.value)!=null&&t.paused||(u=a.value)!=null&&u.ended)){(n=a.value)==null||n.pause(),m.value="Play";return}if((r=a.value)!=null&&r.paused||(c=a.value)!=null&&c.ended){a.value.play(),m.value="Pause";return}};return S(()=>{$(()=>l.value,t=>{o.value.style.transform=`rotate3D(1, 0, 0, ${-(t.y-window.innerHeight/2)*.008}deg) rotate3D(0, 1, 0, ${(t.x-window.innerWidth/2)*.007}deg)`})}),(t,u)=>{var c;const n=V,r=U;return b(),w("section",re,[d("button",{onClick:u[0]||(u[0]=v=>t.toggleDetails(null)),title:"Close work preview",class:"absolute bottom-5 right-5 text-[2em] text-black border-[3px] border-black px-4 py-1 z-50"},"Close"),d("div",{ref_key:"imageRef",ref:o,class:"relative flex flex-1"},[h(d("div",se,[g(n,{loading:"lazy",src:t.project.asset_path,alt:t.project.asset_desc,class:"flex-1 object-center object-contain"},null,8,["src","alt"])],512),[[y,t.project.type==="render"]]),h(d("div",le,[d("video",{ref_key:"videoRef",ref:a,onPlaying:u[1]||(u[1]=v=>D(i)?i.value=!1:i=!1),onEnded:u[2]||(u[2]=()=>{m.value="Play",D(i)?i.value=!1:i=!1}),autoplay:"",class:"mt-auto w-full h-full object-contain"},[d("source",{src:t.project.asset_path,type:"video/mp4",title:t.project.asset_desc},null,8,ie)],544),h(d("button",{title:f(m)+"video",ref_key:"videoControlButton",ref:s,onClick:_,class:"mt-2 mb-auto mx-auto text-black text-[1.8em] font-normal px-4 py-1 border-[3px] border-black capitalize"},L(f(m)),9,ce),[[y,t.project.type==="animation"]])],512),[[y,t.project.type==="animation"]]),h(d("div",ue,[h(g(n,{loading:"lazy",src:t.project.asset_path,alt:t.project.asset_desc,class:"m-auto h-full object-contain"},null,8,["src","alt"]),[[y,t.project.type==="game"]]),h(g(r,{external:"",target:"__blank",to:(c=t.project)==null?void 0:c.link_to_game,ref_key:"videoControlButton",ref:s,class:"absolute mt-2 left-0 text-black text-[1.8em] font-normal px-4 py-1 border-[3px] border-black capitalize cursor-pointer"},{default:B(()=>[O("Launch")]),_:1},8,["to"]),[[y,t.project.type==="game"]])],512),[[y,t.project.type==="game"]])],512)],512)}}}),pe=E(de,[["__scopeId","data-v-da25bb2e"]]);var me,fe=()=>me;function ve(e){return typeof e=="function"?e():f(e)}function C(e,l=""){if(e instanceof Promise)return e;const o=ve(e);return!e||!o?o:Array.isArray(o)?o.map(s=>C(s,l)):typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>s==="titleTemplate"||s.startsWith("on")?[s,f(a)]:[s,C(a,s)])):o}var _e=typeof window<"u",he="usehead";function M(){return I()&&W(he)||fe()}function ye(e,l={}){const o=M(),s=p(!1),a=p({});J(()=>{a.value=s.value?{}:C(e)});const i=o.push(a.value,l);return $(a,_=>{i.patch(_)}),I()&&(q(()=>{i.dispose()}),G(()=>{s.value=!0}),K(()=>{s.value=!1})),i}function xe(e,l={}){return M().push(e,l)}function ge(e,l={}){var s;const o=M();if(o){const a=_e||!!((s=o.resolvedOptions)!=null&&s.document);return l.mode==="server"&&a||l.mode==="client"&&!a?void 0:a?ye(e,l):xe(e,l)}}var be=e=>typeof e=="function",we=e=>{if(!e)return;const l=F(()=>be(e)?e():e);ge(()=>l.value?{script:[{type:"application/ld+json",children:JSON.stringify(l.value,null,"")}]}:{})};const ke=N(()=>R(()=>import("./BcxDaC_1.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(e=>e.default||e)),je=N(()=>R(()=>import("./DxdqR-9T.js"),__vite__mapDeps([4,1,2,5]),import.meta.url).then(e=>e.default||e)),Pe={class:"relative flex flex-col justify-center gap-2 w-screen min-[500px]:h-screen min-[500px]:translate-y-1/4 pers-500"},Ce=z({__name:"index",setup(e){Q({link:[{rel:"canonical",href:"https://nicolasmacik.com/work/"}]}),ne({title:"Nicolas Macik's work & projects",description:"Showcase of Nicolas Macik's best works from his career as indie game developer and 3D artist."});const l=[];P.forEach(n=>{var r;l.push({"@type":"VisualArtwork",name:n.project_name,creator:{"@type":"Person",name:"Nicolas Macik"},dateCreated:((r=n==null?void 0:n.data_for_bots)==null?void 0:r.date_created)??`01-01-${n.year}`,artMedium:"Digital",image:`https://nicolasmacik.com/_ipx/q_70/${n.asset_path}`,description:n.asset_desc})}),we({"@context":"https://schema.org","@graph":l}),x.registerPlugin(j);let o;const s=x.matchMedia(),a=p(null),i=p(null),m=p(),_=P.sort((n,r)=>r.year-n.year),t=p(null),u=n=>{t.value=n,x.to(a.value,{opacity:n?0:1,duration:1})};return S(()=>{document.title="Work",o==null||o.revert(),o=x.context(()=>{s.add("(min-width: 500px)",()=>{const n=x.timeline({scrollTrigger:{trigger:a.value,start:"top top",end:()=>`bottom+=${600*P.length}`,invalidateOnRefresh:!0,pin:!0,scrub:!0}});for(let r=0;r<i.value.length;r++){const c=i.value[r],v=x.timeline({});v.from(c,{opacity:Math.abs(Math.min(-1+.33333*r,0)),duration:2}),v.fromTo(c,{z:Math.max(-233*(r+1),-1200),y:Math.max(-266*(r+1),-1500)},{z:Math.max(500-66.67*r,300),y:Math.max(700-66.67*r,500),duration:10,ease:"none"},"-=4.5"),v.to(c,{onReverseComplete:()=>{c.style.pointerEvents="auto"},onStart:()=>{c.style.pointerEvents="none"},opacity:0,duration:2},"-=1"),n.add(v,`-=${Math.max(9-9*r,9)}`)}})}),m.value=a.value}),X(()=>{j.refresh(),o.revert(),j.clearScrollMemory()}),(n,r)=>{const c=ke,v=pe,T=je;return b(),w("div",null,[d("section",{ref_key:"container",ref:a,class:"w-screen bg-c-gray flex flex-col max-[500px]:pt-[70px]"},[d("ul",Pe,[(b(!0),w(Y,null,Z(f(_),(H,k)=>(b(),w("li",{ref_for:!0,ref_key:"projectsRef",ref:i,key:k,class:"min-[500px]:card max-[500px]:card-phone w-[90%] h-[80vh] max-[700px]:h-[60vh] max-w-[800px] max-h-[475px]",style:te(`z-index: ${f(_).length-k};`)},[g(c,{loading:"eager",index:k,project:H,toggleDetails:u},null,8,["index","project"])],4))),128))])],512),g(ee,null,{default:B(()=>[f(t)?(b(),ae(v,{key:0,toggleDetails:u,project:f(t)},null,8,["project"])):oe("",!0)]),_:1}),g(T,{container:f(m),x:.5,y:.5},null,8,["container"])])}}}),Se=E(Ce,[["__scopeId","data-v-317bb4c6"]]);export{Se as default};
